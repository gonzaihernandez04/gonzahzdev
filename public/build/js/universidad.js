window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".formulario"),t=document.querySelector("input[name='universidad']"),n=document.querySelector(".formulario__button--buscar"),o=document.querySelector(".formulario__opciones");function r(){for(;o.firstChild;)o.removeChild(o.firstChild)}n.addEventListener("click",n=>{!async function(n){n.preventDefault();const a=t.value;if(a.length>=3)try{const n=await fetch("http://localhost:3000/api/universidades?query="+encodeURIComponent(a),{method:"GET",headers:{"Content-Type":"application/json"}}),c=await n.json();c==[]&&function(){const t=document.createElement("DIV");t.classList.add("alerta error");const n=document.createElement("P");n.textContent="No existe la universidad señalada",t.appendChild(n),e.appendChild(t)}();const i=[];if(c.forEach(e=>{i.push(e.name)}),function(e){r(),e.forEach((e,n)=>{const a=document.createElement("div");a.classList.add("formulario__opcion"),a.innerHTML=`<p class="formulario__opcion-nombre">${n}. ${e}</p>`,o.appendChild(a),a.addEventListener("click",()=>{t.value=a.children[0].textContent,r()})})}(i),!n.ok)throw new Error("Error en la petición")}catch(e){console.error(e)}}(n)})});
//# sourceMappingURL=universidad.js.map
