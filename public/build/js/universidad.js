window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".formulario"),n=document.querySelector("input[name='universidad']"),o=document.querySelector(".formulario__button--buscar"),t=document.querySelector(".formulario__opciones");function r(){for(;t.firstChild;)t.removeChild(t.firstChild)}o.addEventListener("click",o=>{!async function(o){o.preventDefault();const i=n.value;if(i.length>=3)try{const o=await fetch(`${window.location.origin}/api/universidades?query=${encodeURIComponent(i)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),a=await o.json();a==[]&&function(){const n=document.createElement("DIV");n.classList.add("alerta error");const o=document.createElement("P");o.textContent="No existe la universidad señalada",n.appendChild(o),e.appendChild(n)}();const c=[];if(a.forEach(e=>{c.push(e.name)}),function(e){r(),e.forEach((e,o)=>{const i=document.createElement("div");i.classList.add("formulario__opcion"),i.innerHTML=`<p class="formulario__opcion-nombre">${o}. ${e}</p>`,t.appendChild(i),i.addEventListener("click",()=>{n.value=i.children[0].textContent,r()})})}(c),!o.ok)throw new Error("Error en la petición")}catch(e){console.error(e)}}(o)})});
//# sourceMappingURL=universidad.js.map
